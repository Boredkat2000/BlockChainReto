{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\katri\\\\CascadeProjects\\\\blockchain-voting-platform\\\\client\\\\src\\\\components\\\\auth\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Card, Button, Container, Row, Col, Alert, Spinner, Form } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport AuthContext from '../../context/AuthContext';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\nimport { authService } from '../../services/authService';\nimport { isWalletConnected, getConnectedAddress } from '../../utils/web3Utils';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const {\n    isAuthenticated,\n    login\n  } = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isChecking, setIsChecking] = useState(true);\n  const [userName, setUserName] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Redirigir a la nueva página de login con cédula\n    navigate('/id-login');\n    return;\n    const checkWalletConnection = async () => {\n      try {\n        // Si ya está autenticado en el contexto, redirigir a home\n        if (isAuthenticated) {\n          navigate('/');\n          return;\n        }\n\n        // Verificar si la wallet está conectada\n        const isConnected = await isWalletConnected();\n        if (isConnected) {\n          const address = await getConnectedAddress();\n\n          // Verificar si tenemos una sesión guardada para esta dirección\n          const storedAddress = authService.getSavedAddress();\n          const token = authService.getAuthToken();\n          if (address && storedAddress && address.toLowerCase() === storedAddress.toLowerCase() && token) {\n            // Si las direcciones coinciden y tenemos un token, login automático\n            login(address, token);\n            toast.success(t('auth.auto_connected'));\n            navigate('/');\n          }\n        }\n      } catch (error) {\n        console.error('Error al verificar conexión de wallet:', error);\n      } finally {\n        setIsChecking(false);\n      }\n    };\n    checkWalletConnection();\n  }, [isAuthenticated, login, navigate, t]);\n  const handleUserNameChange = e => {\n    setUserName(e.target.value);\n  };\n  const connectWallet = async () => {\n    setIsLoading(true);\n    setError('');\n\n    // Redirigir al nuevo flujo de autenticación con cédula\n    navigate('/id-login');\n    return;\n    try {\n      // Usar el servicio de autenticación para conectar la wallet\n      const result = await authService.connectWallet(userName, '01234567890'); // Añadiendo una cédula dummy\n\n      if (!result.success) {\n        throw new Error(result.error || t('auth.connection_failed'));\n      }\n\n      // Login exitoso - usar la función login del contexto para actualizar el estado de la app\n      login(result.address, result.token, result.name);\n      authService.saveSession(result.address, result.token, result.name);\n      toast.success(t('auth.connection_success'));\n      navigate('/');\n    } catch (error) {\n      console.error('Error de login:', error);\n      setError(error.message || t('auth.generic_error'));\n      toast.error(error.message || t('auth.generic_error'));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Si aún está verificando la conexión de la wallet, mostrar cargando\n  if (isChecking) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-5 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        variant: \"primary\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: t('common.loading')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3\",\n        children: t('auth.checking_wallet')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 8,\n        lg: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"p-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-wallet fa-3x text-primary mb-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: t('auth.connect_wallet')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted\",\n                children: t('auth.connect_prompt')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"danger\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: t('auth.your_name')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: t('auth.enter_name'),\n                value: userName,\n                onChange: handleUserNameChange,\n                maxLength: 50\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                className: \"text-muted\",\n                children: t('auth.name_help_text')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              size: \"lg\",\n              className: \"mb-4 w-100 d-flex align-items-center justify-content-center\",\n              onClick: connectWallet,\n              disabled: isLoading,\n              children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"spinner-border spinner-border-sm me-2\",\n                  role: \"status\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 21\n                }, this), t('auth.connecting')]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"https://metamask.io/images/metamask-fox.svg\",\n                  alt: \"MetaMask\",\n                  style: {\n                    height: '24px',\n                    marginRight: '10px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 21\n                }, this), t('auth.connect_button')]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: t('auth.why_connect')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"small\",\n                children: t('auth.why_text')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0 text-muted small\",\n                children: [t('auth.no_wallet'), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"https://metamask.io/\",\n                  target: \"_blank\",\n                  rel: \"noreferrer\",\n                  children: t('auth.install_metamask')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"9lcJ4ZIkyiThMNryr/+YX9pCbTU=\", false, function () {\n  return [useTranslation, useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","useEffect","Card","Button","Container","Row","Col","Alert","Spinner","Form","useNavigate","AuthContext","toast","useTranslation","authService","isWalletConnected","getConnectedAddress","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","t","isAuthenticated","login","isLoading","setIsLoading","error","setError","isChecking","setIsChecking","userName","setUserName","navigate","checkWalletConnection","isConnected","address","storedAddress","getSavedAddress","token","getAuthToken","toLowerCase","success","console","handleUserNameChange","e","target","value","connectWallet","result","Error","name","saveSession","message","className","children","animation","role","variant","fileName","_jsxFileName","lineNumber","columnNumber","md","lg","Body","Group","Label","Control","type","placeholder","onChange","maxLength","Text","size","onClick","disabled","src","alt","style","height","marginRight","href","rel","_c","$RefreshReg$"],"sources":["C:/Users/katri/CascadeProjects/blockchain-voting-platform/client/src/components/auth/Login.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Card, Button, Container, Row, Col, Alert, Spinner, Form } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport AuthContext from '../../context/AuthContext';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\nimport { authService } from '../../services/authService';\nimport { isWalletConnected, getConnectedAddress } from '../../utils/web3Utils';\n\nconst Login = () => {\n  const { t } = useTranslation();\n  const { isAuthenticated, login } = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isChecking, setIsChecking] = useState(true);\n  const [userName, setUserName] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Redirigir a la nueva página de login con cédula\n    navigate('/id-login');\n    return;\n    \n    const checkWalletConnection = async () => {\n      try {\n        // Si ya está autenticado en el contexto, redirigir a home\n        if (isAuthenticated) {\n          navigate('/');\n          return;\n        }\n\n        // Verificar si la wallet está conectada\n        const isConnected = await isWalletConnected();\n        if (isConnected) {\n          const address = await getConnectedAddress();\n          \n          // Verificar si tenemos una sesión guardada para esta dirección\n          const storedAddress = authService.getSavedAddress();\n          const token = authService.getAuthToken();\n          \n          if (address && storedAddress && address.toLowerCase() === storedAddress.toLowerCase() && token) {\n            // Si las direcciones coinciden y tenemos un token, login automático\n            login(address, token);\n            toast.success(t('auth.auto_connected'));\n            navigate('/');\n          }\n        }\n      } catch (error) {\n        console.error('Error al verificar conexión de wallet:', error);\n      } finally {\n        setIsChecking(false);\n      }\n    };\n    \n    checkWalletConnection();\n  }, [isAuthenticated, login, navigate, t]);\n\n  const handleUserNameChange = (e) => {\n    setUserName(e.target.value);\n  };\n\n  const connectWallet = async () => {\n    setIsLoading(true);\n    setError('');\n\n    // Redirigir al nuevo flujo de autenticación con cédula\n    navigate('/id-login');\n    return;\n\n    try {\n      // Usar el servicio de autenticación para conectar la wallet\n      const result = await authService.connectWallet(userName, '01234567890'); // Añadiendo una cédula dummy\n      \n      if (!result.success) {\n        throw new Error(result.error || t('auth.connection_failed'));\n      }\n      \n      // Login exitoso - usar la función login del contexto para actualizar el estado de la app\n      login(result.address, result.token, result.name);\n      authService.saveSession(result.address, result.token, result.name);\n      \n      toast.success(t('auth.connection_success'));\n      navigate('/');\n    } catch (error) {\n      console.error('Error de login:', error);\n      setError(error.message || t('auth.generic_error'));\n      toast.error(error.message || t('auth.generic_error'));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Si aún está verificando la conexión de la wallet, mostrar cargando\n  if (isChecking) {\n    return (\n      <Container className=\"mt-5 text-center\">\n        <Spinner animation=\"border\" role=\"status\" variant=\"primary\">\n          <span className=\"visually-hidden\">{t('common.loading')}</span>\n        </Spinner>\n        <p className=\"mt-3\">{t('auth.checking_wallet')}</p>\n      </Container>\n    );\n  }\n\n  return (\n    <Container className=\"mt-5\">\n      <Row className=\"justify-content-center\">\n        <Col md={8} lg={6}>\n          <Card className=\"shadow-sm\">\n            <Card.Body className=\"p-5\">\n              <div className=\"text-center mb-4\">\n                <i className=\"fas fa-wallet fa-3x text-primary mb-3\"></i>\n                <h2>{t('auth.connect_wallet')}</h2>\n                <p className=\"text-muted\">\n                  {t('auth.connect_prompt')}\n                </p>\n              </div>\n              \n              {error && <Alert variant=\"danger\">{error}</Alert>}\n              \n              <Form.Group className=\"mb-3\">\n                <Form.Label>{t('auth.your_name')}</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder={t('auth.enter_name')}\n                  value={userName}\n                  onChange={handleUserNameChange}\n                  maxLength={50}\n                />\n                <Form.Text className=\"text-muted\">\n                  {t('auth.name_help_text')}\n                </Form.Text>\n              </Form.Group>\n              \n              <Button \n                variant=\"primary\" \n                size=\"lg\" \n                className=\"mb-4 w-100 d-flex align-items-center justify-content-center\"\n                onClick={connectWallet}\n                disabled={isLoading}\n              >\n                {isLoading ? (\n                  <>\n                    <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                    {t('auth.connecting')}\n                  </>\n                ) : (\n                  <>\n                    <img \n                      src=\"https://metamask.io/images/metamask-fox.svg\" \n                      alt=\"MetaMask\" \n                      style={{ height: '24px', marginRight: '10px' }} \n                    />\n                    {t('auth.connect_button')}\n                  </>\n                )}\n              </Button>\n              \n              <div className=\"text-center mt-4\">\n                <h5>{t('auth.why_connect')}</h5>\n                <p className=\"small\">\n                  {t('auth.why_text')}\n                </p>\n                <hr />\n                <p className=\"mb-0 text-muted small\">\n                  {t('auth.no_wallet')} <a href=\"https://metamask.io/\" target=\"_blank\" rel=\"noreferrer\">{t('auth.install_metamask')}</a>\n                </p>\n              </div>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Login;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC9D,SAASC,IAAI,EAAEC,MAAM,EAAEC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,EAAEC,IAAI,QAAQ,iBAAiB;AACzF,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,WAAW,MAAM,2BAA2B;AACnD,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,iBAAiB,EAAEC,mBAAmB,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/E,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM;IAAEC;EAAE,CAAC,GAAGV,cAAc,CAAC,CAAC;EAC9B,MAAM;IAAEW,eAAe;IAAEC;EAAM,CAAC,GAAGzB,UAAU,CAACW,WAAW,CAAC;EAC1D,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC6B,KAAK,EAAEC,QAAQ,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC+B,UAAU,EAAEC,aAAa,CAAC,GAAGhC,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACiC,QAAQ,EAAEC,WAAW,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMmC,QAAQ,GAAGxB,WAAW,CAAC,CAAC;EAE9BT,SAAS,CAAC,MAAM;IACd;IACAiC,QAAQ,CAAC,WAAW,CAAC;IACrB;IAEA,MAAMC,qBAAqB,GAAG,MAAAA,CAAA,KAAY;MACxC,IAAI;QACF;QACA,IAAIX,eAAe,EAAE;UACnBU,QAAQ,CAAC,GAAG,CAAC;UACb;QACF;;QAEA;QACA,MAAME,WAAW,GAAG,MAAMrB,iBAAiB,CAAC,CAAC;QAC7C,IAAIqB,WAAW,EAAE;UACf,MAAMC,OAAO,GAAG,MAAMrB,mBAAmB,CAAC,CAAC;;UAE3C;UACA,MAAMsB,aAAa,GAAGxB,WAAW,CAACyB,eAAe,CAAC,CAAC;UACnD,MAAMC,KAAK,GAAG1B,WAAW,CAAC2B,YAAY,CAAC,CAAC;UAExC,IAAIJ,OAAO,IAAIC,aAAa,IAAID,OAAO,CAACK,WAAW,CAAC,CAAC,KAAKJ,aAAa,CAACI,WAAW,CAAC,CAAC,IAAIF,KAAK,EAAE;YAC9F;YACAf,KAAK,CAACY,OAAO,EAAEG,KAAK,CAAC;YACrB5B,KAAK,CAAC+B,OAAO,CAACpB,CAAC,CAAC,qBAAqB,CAAC,CAAC;YACvCW,QAAQ,CAAC,GAAG,CAAC;UACf;QACF;MACF,CAAC,CAAC,OAAON,KAAK,EAAE;QACdgB,OAAO,CAAChB,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;MAChE,CAAC,SAAS;QACRG,aAAa,CAAC,KAAK,CAAC;MACtB;IACF,CAAC;IAEDI,qBAAqB,CAAC,CAAC;EACzB,CAAC,EAAE,CAACX,eAAe,EAAEC,KAAK,EAAES,QAAQ,EAAEX,CAAC,CAAC,CAAC;EAEzC,MAAMsB,oBAAoB,GAAIC,CAAC,IAAK;IAClCb,WAAW,CAACa,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC7B,CAAC;EAED,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChCtB,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,EAAE,CAAC;;IAEZ;IACAK,QAAQ,CAAC,WAAW,CAAC;IACrB;IAEA,IAAI;MACF;MACA,MAAMgB,MAAM,GAAG,MAAMpC,WAAW,CAACmC,aAAa,CAACjB,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC;;MAEzE,IAAI,CAACkB,MAAM,CAACP,OAAO,EAAE;QACnB,MAAM,IAAIQ,KAAK,CAACD,MAAM,CAACtB,KAAK,IAAIL,CAAC,CAAC,wBAAwB,CAAC,CAAC;MAC9D;;MAEA;MACAE,KAAK,CAACyB,MAAM,CAACb,OAAO,EAAEa,MAAM,CAACV,KAAK,EAAEU,MAAM,CAACE,IAAI,CAAC;MAChDtC,WAAW,CAACuC,WAAW,CAACH,MAAM,CAACb,OAAO,EAAEa,MAAM,CAACV,KAAK,EAAEU,MAAM,CAACE,IAAI,CAAC;MAElExC,KAAK,CAAC+B,OAAO,CAACpB,CAAC,CAAC,yBAAyB,CAAC,CAAC;MAC3CW,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC,CAAC,OAAON,KAAK,EAAE;MACdgB,OAAO,CAAChB,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvCC,QAAQ,CAACD,KAAK,CAAC0B,OAAO,IAAI/B,CAAC,CAAC,oBAAoB,CAAC,CAAC;MAClDX,KAAK,CAACgB,KAAK,CAACA,KAAK,CAAC0B,OAAO,IAAI/B,CAAC,CAAC,oBAAoB,CAAC,CAAC;IACvD,CAAC,SAAS;MACRI,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;;EAED;EACA,IAAIG,UAAU,EAAE;IACd,oBACEZ,OAAA,CAACd,SAAS;MAACmD,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBACrCtC,OAAA,CAACV,OAAO;QAACiD,SAAS,EAAC,QAAQ;QAACC,IAAI,EAAC,QAAQ;QAACC,OAAO,EAAC,SAAS;QAAAH,QAAA,eACzDtC,OAAA;UAAMqC,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAEjC,CAAC,CAAC,gBAAgB;QAAC;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvD,CAAC,eACV7C,OAAA;QAAGqC,SAAS,EAAC,MAAM;QAAAC,QAAA,EAAEjC,CAAC,CAAC,sBAAsB;MAAC;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CAAC;EAEhB;EAEA,oBACE7C,OAAA,CAACd,SAAS;IAACmD,SAAS,EAAC,MAAM;IAAAC,QAAA,eACzBtC,OAAA,CAACb,GAAG;MAACkD,SAAS,EAAC,wBAAwB;MAAAC,QAAA,eACrCtC,OAAA,CAACZ,GAAG;QAAC0D,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAAT,QAAA,eAChBtC,OAAA,CAAChB,IAAI;UAACqD,SAAS,EAAC,WAAW;UAAAC,QAAA,eACzBtC,OAAA,CAAChB,IAAI,CAACgE,IAAI;YAACX,SAAS,EAAC,KAAK;YAAAC,QAAA,gBACxBtC,OAAA;cAAKqC,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC/BtC,OAAA;gBAAGqC,SAAS,EAAC;cAAuC;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACzD7C,OAAA;gBAAAsC,QAAA,EAAKjC,CAAC,CAAC,qBAAqB;cAAC;gBAAAqC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACnC7C,OAAA;gBAAGqC,SAAS,EAAC,YAAY;gBAAAC,QAAA,EACtBjC,CAAC,CAAC,qBAAqB;cAAC;gBAAAqC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,EAELnC,KAAK,iBAAIV,OAAA,CAACX,KAAK;cAACoD,OAAO,EAAC,QAAQ;cAAAH,QAAA,EAAE5B;YAAK;cAAAgC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAEjD7C,OAAA,CAACT,IAAI,CAAC0D,KAAK;cAACZ,SAAS,EAAC,MAAM;cAAAC,QAAA,gBAC1BtC,OAAA,CAACT,IAAI,CAAC2D,KAAK;gBAAAZ,QAAA,EAAEjC,CAAC,CAAC,gBAAgB;cAAC;gBAAAqC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAa,CAAC,eAC9C7C,OAAA,CAACT,IAAI,CAAC4D,OAAO;gBACXC,IAAI,EAAC,MAAM;gBACXC,WAAW,EAAEhD,CAAC,CAAC,iBAAiB,CAAE;gBAClCyB,KAAK,EAAEhB,QAAS;gBAChBwC,QAAQ,EAAE3B,oBAAqB;gBAC/B4B,SAAS,EAAE;cAAG;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACf,CAAC,eACF7C,OAAA,CAACT,IAAI,CAACiE,IAAI;gBAACnB,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAC9BjC,CAAC,CAAC,qBAAqB;cAAC;gBAAAqC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC,eAEb7C,OAAA,CAACf,MAAM;cACLwD,OAAO,EAAC,SAAS;cACjBgB,IAAI,EAAC,IAAI;cACTpB,SAAS,EAAC,6DAA6D;cACvEqB,OAAO,EAAE3B,aAAc;cACvB4B,QAAQ,EAAEnD,SAAU;cAAA8B,QAAA,EAEnB9B,SAAS,gBACRR,OAAA,CAAAE,SAAA;gBAAAoC,QAAA,gBACEtC,OAAA;kBAAMqC,SAAS,EAAC,uCAAuC;kBAACG,IAAI,EAAC,QAAQ;kBAAC,eAAY;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,EAC/FxC,CAAC,CAAC,iBAAiB,CAAC;cAAA,eACrB,CAAC,gBAEHL,OAAA,CAAAE,SAAA;gBAAAoC,QAAA,gBACEtC,OAAA;kBACE4D,GAAG,EAAC,6CAA6C;kBACjDC,GAAG,EAAC,UAAU;kBACdC,KAAK,EAAE;oBAAEC,MAAM,EAAE,MAAM;oBAAEC,WAAW,EAAE;kBAAO;gBAAE;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChD,CAAC,EACDxC,CAAC,CAAC,qBAAqB,CAAC;cAAA,eACzB;YACH;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACK,CAAC,eAET7C,OAAA;cAAKqC,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC/BtC,OAAA;gBAAAsC,QAAA,EAAKjC,CAAC,CAAC,kBAAkB;cAAC;gBAAAqC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAChC7C,OAAA;gBAAGqC,SAAS,EAAC,OAAO;gBAAAC,QAAA,EACjBjC,CAAC,CAAC,eAAe;cAAC;gBAAAqC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB,CAAC,eACJ7C,OAAA;gBAAA0C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACN7C,OAAA;gBAAGqC,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GACjCjC,CAAC,CAAC,gBAAgB,CAAC,EAAC,GAAC,eAAAL,OAAA;kBAAGiE,IAAI,EAAC,sBAAsB;kBAACpC,MAAM,EAAC,QAAQ;kBAACqC,GAAG,EAAC,YAAY;kBAAA5B,QAAA,EAAEjC,CAAC,CAAC,uBAAuB;gBAAC;kBAAAqC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEhB,CAAC;AAACzC,EAAA,CArKID,KAAK;EAAA,QACKR,cAAc,EAMXH,WAAW;AAAA;AAAA2E,EAAA,GAPxBhE,KAAK;AAuKX,eAAeA,KAAK;AAAC,IAAAgE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}